# Derive.xyz Integration Testing Configuration
# ============================================

# Required: Owner wallet private key (your main Ethereum wallet)
# This wallet signs session key registrations
DERIVE_OWNER_PRIVATE_KEY=0x...

# Required: Derive wallet address (smart contract wallet on Derive Chain)
# Find this at: https://testnet.derive.xyz/ → Home → Developers → "Derive Wallet"
# This is NOT your EOA address - it's the smart contract wallet created by Derive
DERIVE_WALLET_ADDRESS=0x...

# Optional: Pre-registered session key private key
# If not provided, tests will generate and register a new one
DERIVE_SESSION_KEY_PRIVATE=0x...

# Optional: Subaccount ID (defaults to 1)
DERIVE_SUBACCOUNT_ID=1

# Optional: Empty wallet address for testing with zero balance accounts
# Use this to test API behaviour with accounts that have no funds
DERIVE_EMPTY_WALLET_ADDRESS=0x...

# Required for integration tests: Enable real API calls
SEND_REAL_REQUESTS=true

# ============================================
# Setup Instructions
# ============================================

# 1. Create a test wallet:
#    python -c "from eth_account import Account; acc = Account.create(); print(f'Address: {acc.address}\\nPrivate Key: {acc.key.hex()}')"

# 2. Fund with Sepolia ETH (for gas):
#    https://sepoliafaucet.com/

# 3. Go to Derive testnet and connect wallet:
#    https://testnet.derive.xyz/

# 4. Mint testnet USDC via interface or use Circle faucet:
#    https://faucet.circle.com/

# 5. Find your Derive Wallet address:
#    testnet.derive.xyz → Home → Developers → "Derive Wallet"

# 6. Set environment variables and run tests:
#    source .local-test.env && poetry run pytest tests/derive/ -v --log-cli-level=info

# ============================================
# Running Tests
# ============================================

# Run all Derive tests:
#    source .local-test.env && poetry run pytest tests/derive/ -v

# Run specific test:
#    source .local-test.env && poetry run pytest tests/derive/test_authentication.py::test_register_session_key -v

# Run with detailed logging:
#    source .local-test.env && poetry run pytest tests/derive/ -v --log-cli-level=info
